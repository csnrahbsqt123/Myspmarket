<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>购物车</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<script type="text/javascript" src="js/jquery.js"></script>
		<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
		<link rel="stylesheet" href="js/bootstrap/css/bootstrap.css">
		<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
		<script src="js/bootstrap/js/bootstrap.js" ></script>
		<link rel="stylesheet" type="text/css" href="css/cart.css"/>
	</head>
	<body>
		<div class="container">
			<div class="row header">
				<div class="col-xs-1">
					<span class="glyphicon glyphicon-chevron-left"></span>
				</div>
				<div class="col-xs-9">
					购物车
				</div>
				<div class="col-xs-2">
					<span class="glyphicon glyphicon-search"></span>
				</div>
			</div>
			<div class="row main">
				<div class="container login">
					<a href="">
						<div class="col-xs-9">
							登录后享受更多优惠
						</div>
						<div class="col-xs-3 go">
							去登录>
						</div>
					</a>
				</div>
				<div class="goods">
					<div class="container good" data-able="1">
						<div class="col-xs-1 icon">

						</div>
						<div class="col-xs-4">
							<img src="images/72.jpg" alt="" />
						</div>
						<div class="col-xs-7 info">
							<div class="name">
								红米6 全网通版 4GB内存 64GB 铂银灰 64GB
							</div>
							<div class="price">
								<span>售价: </span>
								<span>
									<span class="price_num">
										998
									</span>
									元
								</span>
							</div>
							<div>
								<div class="col-xs-9">
									<span class="minus glyphicon glyphicon-minus"></span>
									<span class="num">2</span>
									<span class="add glyphicon glyphicon-plus"></span>
								</div>
								<div class="col-xs-3">
									<span class="glyphicon glyphicon-trash"></span>
								</div>
							</div>
						</div>
					</div>
					<div class="container good" data-able="1">
						<div class="col-xs-1 icon">

						</div>
						<div class="col-xs-4">
							<img src="images/72.jpg" alt="" />
						</div>
						<div class="col-xs-7 info">
							<div class="name">
								红米6 全网通版 4GB内存 64GB 铂银灰 64GB
							</div>
							<div class="price">
								<span>售价: </span>
								<span>
									<span class="price_num">
										998
									</span>
									元
								</span>
							</div>
							<div>
								<div class="col-xs-9">
									<span class="minus glyphicon glyphicon-minus"></span>
									<span class="num">2</span>
									<span class="add glyphicon glyphicon-plus"></span>
								</div>
								<div class="col-xs-3">
									<span class="glyphicon glyphicon-trash"></span>
								</div>
							</div>
						</div>
					</div>
					<div class="container good" data-able="1">
						<div class="col-xs-1 icon">

						</div>
						<div class="col-xs-4">
							<img src="images/72.jpg" alt="" />
						</div>
						<div class="col-xs-7 info" >
							<div class="name">
								红米6 全网通版 4GB内存 64GB 铂银灰 64GB
							</div>
							<div class="price">
								<span>售价: </span>
								<span>
									<span class="price_num">
										998
									</span>
								元</span>
							</div>
							<div>
								<div class="col-xs-9">
									<span class="minus glyphicon glyphicon-minus"></span>
									<span class="num">2</span>
									<span class="add glyphicon glyphicon-plus"></span>
								</div>
								<div class="col-xs-3">
									<span class="glyphicon glyphicon-trash"></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row footer">
				<div class="col-xs-5">
					<div>
						共<span class="total-num">4</span>件,金额:
					</div>
					<div>
						<span class="money">7796</span>元
					</div>
				</div>
				<div class="col-xs-3 shopp">
					继续购物
				</div>
				<div class="col-xs-4 settle">
					去结算
				</div>
			</div>
		</div>
		<script>
			/**计算总价的函数***/
			function total_price(){
				var total = 0
				var total_num = 0
				$('div[data-able=1]').each(function(){
					var price_num = $(this).find('.price_num').text()
					var num = $(this).find('.num').text()
					total += price_num * num
					total_num += parseInt(num)
				})
				$('.money').text(total)
				$('.total-num').text(total_num)
			}
			$(function(){
				//页面加载完成,计算总价
				total_price()
				//商品有效点击
				$('.good>.col-xs-1').click(function(){
					$(this).toggleClass('icon')
					var data_able = $(this).parent().attr('data-able')
					if(data_able == 1){
						data_able = 0
					}else{
						data_able = 1
					}
					$(this).parent().attr('data-able',data_able)
					//重新计算总价
					total_price()
				})
				//减号点击
				$('.minus').click(function(){
					var num = $(this).next().text()
					num = parseInt(num)
					if(num <= 2){
						$(this).css('color','#ccc')
					}
					if(num == 1){
						return false
					}
					num -= 1
					$(this).next().text(num)
					//重新计算总价
					total_price()
				})
				//加号点击
				$('.add').click(function(){
					var num = $(this).prev().text()
					num = parseInt(num)
					if(num == 1){
						$(this).parent().find('.minus').css('color','#666')
					}
					num += 1
					$(this).prev().text(num)
					//重新计算总价
					total_price()
				})
				//删除点击
				$('.glyphicon-trash').click(function(){
					$(this).parents('.good').remove()
					//重新计算总价
					total_price()
				})
			})
		</script>
	</body>
</html>
